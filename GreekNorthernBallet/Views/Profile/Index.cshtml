@model Users


@{var photoPath = "~/images/" + (Model.imagePath ?? "ballet.jpg");

  var eventsByUser = ViewBag.Message;

}


@{
  if (ViewData["message"] != null)
  {
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
      <strong>@ViewData["message"]</strong>
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
  }

}


@*<body class="profile-image-background">
  </body>*@

@section myContainer{
 
   
     
        <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
          <div class="carousel-inner">
            <div class="carousel-item active">
              <img class="d-block w-100" src="~/images/10.jpg">
            </div>
            <div class="carousel-item">
              <img class="d-block w-100" src="~/images/11.jpg">
            </div>
            <div class="carousel-item">
              <img class="d-block w-100" src="~/images/13.webp">
            </div>
          </div>
          <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
          </a>
          <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
          </a>
        </div>

        <div class="fixa">
          <div class="d-flex justify-content-center">
            <div class="card" style="background-color:rgba(0,0,0,0.5)">
              <div class="card-body">
                <h2 class="form-signin-heading text-center" style="font-family:'Comic Sans MS'; color:whitesmoke">@Model.name</h2><br />
                <div class="form-group">
                  <div class="input-group">
                    <div class="input-group-prepend">


                      <div style="align-self:center;padding-left:7rem">
                        <div class="container-profile" style="padding-bottom:5rem">
                          <img class="image-profile" src="@photoPath" asp-append-version="true" />
                          <div class="middle">
                            <div><a class="button-profile" asp-controller="Profile" asp-action="EditPhoto">Change Image</a></div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="list-group" id="list-tab" role="tablist" style="width:400px">
                    <a class="list-group-item list-group-item-action" style="background-color:rgba(133, 11, 131, 0.70)" id="list-home-list" data-toggle="modal" href="#list-home" aria-controls="home"><i class="fas fa-address-card" style="font-size:x-large;color:whitesmoke"></i><text style="font-family:'Comic Sans MS';font-size:x-large;color:whitesmoke"> Profile Information</text></a>
                    <button class="btn list-group-item list-group-item-action" style="background-color:rgba(133, 11, 131, 0.70)" type="submit" id="list-profile-list" data-toggle="modal" data-target="#list-profile"><i class="fas fa-user-edit" style="font-size:x-large;color:whitesmoke"></i><text style="font-family:'Comic Sans MS';font-size:x-large;color:whitesmoke"> Edit Profile</text></button>
                    <a class="list-group-item list-group-item-action" style="background-color:rgba(133, 11, 131, 0.70)" id="list-messages-list" data-toggle="modal" href="#list-messages" aria-controls="messages"><i class="fas fa-money-check-alt" style="font-size:x-large;color:whitesmoke"></i><text style="font-family:'Comic Sans MS';font-size:x-large;color:whitesmoke"> My Payments</text></a>
                    <a class="list-group-item list-group-item-action" style="background-color:rgba(133, 11, 131, 0.70)" id="list-settings-list" data-toggle="modal" href="#list-settings" aria-controls="settings"><i class="fas fa-list-alt" style="font-size:x-large;color:whitesmoke"></i><text style="font-family:'Comic Sans MS';font-size:x-large;color:whitesmoke"> Event Registrations</text></a>
                  </div>
                </div>
              </div>
            </div>


          </div>
        </div>

        <div class="col-8">
          <div class="tab-content" id="nav-tabContent">

            @*Information popup------------------------------------*@
            <div class="modal fade" id="list-home" tabindex="-1" role="dialog" aria-labelledby="list-home-list" aria-hidden="true">
              <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header" style="background-color:pink">
                    <h5 class="modal-title" id="list-home-list">Profile Information</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
                    <p class="col-sm-12" style="font-family:'Comic Sans MS'"><text class="font-weight-bold" style="font-size:medium">@Html.DisplayNameFor(p => p.name) :</text> @Model.name</p>
                    <p class="col-sm-12" style="font-family:'Comic Sans MS'"><text class="font-weight-bold" style="font-size:medium">@Html.DisplayNameFor(p => p.surname) :</text> @Model.surname</p>
                    <p class="col-sm-12" style="font-family:'Comic Sans MS'"><text class="font-weight-bold" style="font-size:medium">@Html.DisplayNameFor(p => p.age) :</text> @Model.age</p>
                    <p class="col-sm-12" style="font-family:'Comic Sans MS'"><text class="font-weight-bold" style="font-size:medium">@Html.DisplayNameFor(p => p.address) :</text> @Model.address</p>
                    <p class="col-sm-12" style="font-family:'Comic Sans MS'"><text class="font-weight-bold" style="font-size:medium">@Html.DisplayNameFor(p => p.mobile) :</text> @Model.mobile</p>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                  </div>
                </div>
              </div>
            </div>

            @*Edit popup-------------------------------------------*@
            <form asp-controller="Profile" asp-action="PostEdit" method="post">
              <div class="modal fade" id="list-profile" tabindex="-1" role="dialog" aria-labelledby="list-profile-list" aria-hidden="true">
                <div class="modal-dialog" role="document">
                  <div class="modal-content">
                    <div class="modal-header" id="list-profile-list" style="background-color:pink">
                      <h5 class="modal-title">Edit</h5>
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                      </button>
                    </div>
                    <div class="modal-body">
                      <div class="form-group">
                        <label asp-for="@Model.username"></label>
                        <input type="text" name="username" class="form-control" value="@Model.username" />
                      </div>
                      <div class="form-group">
                        <label>Current Password</label>
                        <input type="password" name="currentPassword" class="form-control" />
                      </div>
                      <div class="form-group">
                        <label>New Password</label>
                        <input type="password" name="password" class="form-control" />
                      </div>
                      <div class="form-group">
                        <label asp-for="@Model.name"></label>
                        <input type="text" name="name" class="form-control" value="@Model.name" />
                      </div>
                      <div class="form-group">
                        <label asp-for="@Model.surname"></label>
                        <input type="text" name="surname" class="form-control" value="@Model.surname" />
                      </div>
                      <div class="form-group">
                        <label asp-for="@Model.address"></label>
                        <input type="text" name="address" class="form-control" value="@Model.address" />
                      </div>
                      <div class="form-group">
                        <label asp-for="@Model.age"></label>
                        <input type="number" name="age" class="form-control" value="@Model.age" />
                      </div>
                      <div class="form-group">
                        <label asp-for="@Model.mobile"></label>
                        <input type="text" name="mobile" class="form-control" value="@Model.mobile" />
                      </div>
                    </div>
                    <div class="modal-footer">
                      <button type="submit" class="btn" style="background-color:lightgreen">Save</button>
                      <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    </div>
                  </div>
                </div>
              </div>
            </form>

            @*Payments popup---------------------------------------*@
            <div class="modal fade" id="list-messages" tabindex="-1" role="dialog" aria-labelledby="list-messages-list" aria-hidden="true">
              <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header" style="background-color:pink">
                    <h5 class="modal-title" id="list-messages-list">Payments Information</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">


                    <table class="table table-hover" style="background-color:lightgrey">
                      <thead>
                        <tr>
                          <th scope="col">Category</th>
                          <th scope="col">Payment</th>
                          <th scope="col">Date</th>
                        </tr>
                      </thead>
                      <tbody>
                        @foreach (var item in Model.listOfDetails)
                        {
                          <tr>
                            <td>@item.danceName</td>
                            <td>@item.payment</td>
                            <td>@item.dateOfPayment</td>
                          </tr>
                        }

                      </tbody>
                    </table>


                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                  </div>
                </div>
              </div>
            </div>

            @*Registrations popup----------------------------------*@
            <div class="modal fade" id="list-settings" tabindex="-1" role="dialog" aria-labelledby="list-settings-list" aria-hidden="true">
              <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header" style="background-color:pink">
                    <h5 class="modal-title" id="list-settings-list">Profile Information</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">

                    <table class="table table-hover" style="background-color:lightgrey">
                      <thead>
                        <tr>
                          <th scope="col">Event Title</th>
                          <th scope="col">Unregister</th>
                        </tr>
                      </thead>
                      <tbody>
                        @foreach (var item in Model.listOfEvents)
                        {
                          <tr>
                            <td>@item.title</td>
                            <td style="padding-left:2rem">

                              <form asp-controller="Event" asp-action="Unregister" method="post">
                                <input type="hidden" name="eventId" value="@item.eventId" />
                                <button type="submit" class="btn text-white border-danger bg-danger"><i class="fas fa-minus-square fa-1x"></i></button>
                              </form>

                            </td>
                          </tr>
                        }

                      </tbody>
                    </table>

                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                  </div>
                </div>
              </div>
            </div>

          </div>
        </div>

   
}
